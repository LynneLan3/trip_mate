# 问卷数据导入说明

## 📋 概述

本次更新新增了5个问卷类型，每个问卷包含10道题目：

1. **目的地偏好测试** - 了解旅行目的地偏好
2. **餐饮习惯测试** - 发现美食偏好
3. **消费习惯测试** - 了解旅行预算风格
4. **住宿偏好测试** - 找到理想住宿方式
5. **景点偏好测试** - 发现旅行兴趣点

## 🚀 导入步骤

### 方法一：通过 Supabase Dashboard（推荐）

1. 登录你的 [Supabase Dashboard](https://app.supabase.com)
2. 选择你的项目
3. 点击左侧菜单的 **SQL Editor**
4. 点击 **New query** 按钮
5. 复制 `新增5个问卷类型.sql` 文件的全部内容
6. 粘贴到 SQL 编辑器中
7. 点击 **Run** 按钮执行
8. 等待执行完成，查看执行结果

### 方法二：通过命令行

如果你有 Supabase CLI，可以使用以下命令：

```bash
# 确保你在项目根目录
cd /Users/lanling/Downloads/app

# 使用 psql 连接到数据库并执行脚本
psql "你的数据库连接字符串" -f 新增5个问卷类型.sql
```

## ✅ 验证导入

执行完成后，脚本会自动执行验证查询。你应该看到类似以下的结果：

| id | title | question_count |
|---|---|---|
| a0000000-0000-0000-0000-000000000001 | 目的地偏好测试 | 10 |
| a0000000-0000-0000-0000-000000000002 | 餐饮习惯测试 | 10 |
| a0000000-0000-0000-0000-000000000003 | 消费习惯测试 | 10 |
| a0000000-0000-0000-0000-000000000004 | 住宿偏好测试 | 10 |
| a0000000-0000-0000-0000-000000000005 | 景点偏好测试 | 10 |

## 📱 查看效果

导入成功后：

1. 刷新你的应用首页
2. 你应该能看到5个新的问卷卡片
3. 点击任意问卷的"开始答题"按钮
4. 可以看到10道题目依次展示

## 🎨 每个问卷的评分规则

### 1. 目的地偏好测试
- 0-30分：慢节奏度假型
- 31-60分：探索冒险型
- 61-100分：文化体验型

### 2. 餐饮习惯测试
- 0-30分：随遇而安型
- 31-60分：美食探索型
- 61-100分：资深吃货型

### 3. 消费习惯测试
- 0-30分：穷游背包客
- 31-60分：品质旅行者
- 61-100分：奢华享受派

### 4. 住宿偏好测试
- 0-30分：经济实用型
- 31-60分：舒适体验型
- 61-100分：品质享受型

### 5. 景点偏好测试
- 0-30分：休闲放松型
- 31-60分：打卡体验型
- 61-100分：深度探索型

## 🔧 常见问题

### 问题1：执行时提示权限错误
**解决方案**：确保你的数据库用户有 INSERT 权限。可以先执行 `一键修复所有权限.sql` 脚本。

### 问题2：提示主键冲突
**解决方案**：如果数据库中已存在相同 ID 的问卷，需要先删除。

```sql
-- 删除已存在的问卷（如果需要）
DELETE FROM quiz_questions WHERE quiz_id IN (
  'a0000000-0000-0000-0000-000000000001',
  'a0000000-0000-0000-0000-000000000002',
  'a0000000-0000-0000-0000-000000000003',
  'a0000000-0000-0000-0000-000000000004',
  'a0000000-0000-0000-0000-000000000005'
);
DELETE FROM quizzes WHERE id IN (
  'a0000000-0000-0000-0000-000000000001',
  'a0000000-0000-0000-0000-000000000002',
  'a0000000-0000-0000-0000-000000000003',
  'a0000000-0000-0000-0000-000000000004',
  'a0000000-0000-0000-0000-000000000005'
);
```

### 问题3：首页没有显示新问卷
**解决方案**：
1. 检查浏览器控制台是否有错误
2. 刷新页面（Ctrl+F5 / Cmd+Shift+R）
3. 检查 Supabase 数据库表权限设置

## 📝 下一步

导入成功后，你可以：

1. 测试每个问卷的答题流程
2. 根据需要调整题目内容或评分规则
3. 邀请用户开始使用新问卷
4. 查看用户的答题结果和匹配情况

## 🆘 需要帮助？

如果遇到任何问题，请检查：
- Supabase 控制台的错误日志
- 浏览器开发者工具的 Console 面板
- 网络请求是否成功返回数据
